<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>DDDICE Custom Theme Test</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
      height: 100%;
      width: 100%;
    }
    #dice-container {
      width: 100vw;
      height: 100vh;
    }
    #rollBtn {
      position: absolute;
      z-index: 10;
      top: 20px;
      left: 20px;
      padding: 10px 16px;
      background: #fff;
      color: #000;
      font-size: 16px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <button id="rollBtn">Roll D20</button>
  <div id="dice-container"></div>

  <script type="module">
    import { ThreeDDice, ThreeDDiceAPI } from "https://cdn.dddice.com/sdk/v1.0.0/dddice.js";

    let dice;
    let diceReady = false;

    async function initDice() {
      try {
        const container = document.getElementById("dice-container");

        const api = new ThreeDDiceAPI({
          apiKey: "gDaxorrfRitBH5xZg9Zusd4d2rfpEfXudILuJxMa3270600d"
        });

        dice = new ThreeDDice(container, {
          theme: "67311ef7-c3dc-11f0-a53a-5e4785df0bb4",
          showUI: false
        });

        await dice.initialize();
        diceReady = true;
        console.log("Custom DDDICE theme loaded.");
      } catch (error) {
        console.error("Error initializing dice:", error);
      }
    }

    document.getElementById("rollBtn").addEventListener("click", async () => {
      if (!diceReady) {
        console.log("Dice not ready yet, please wait...");
        return;
      }

      try {
        const result = await dice.roll([
          {
            type: "d20",
            theme: "67311ef7-c3dc-11f0-a53a-5e4785df0bb4"
          }
        ]);

        console.log("Rolled D20 result:", result[0].value);
        alert("You rolled: " + result[0].value);
      } catch (error) {
        console.error("Error rolling dice:", error);
      }
    });

    initDice();
  </script>

</body>
</html>

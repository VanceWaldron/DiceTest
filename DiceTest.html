<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>DDDICE Custom Theme Test</title>

  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      background: #000;
      width: 100%;
      height: 100%;
    }
    #dice-container {
      width: 100vw;
      height: 100vh;
    }
    #rollBtn {
      position: absolute;
      z-index: 10;
      top: 20px;
      left: 20px;
      padding: 10px 16px;
      background: #aaa;
      color: #000;
      font-size: 16px;
      border: none;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <button id="rollBtn">Roll D20</button>
  <div id="dice-container"></div>

  <!-- DDDice classic embed script -->
  <script src="https://cdn.dddice.com/dddice.min.js"></script>

  <script>
    let dice;
    let diceReady = false;

    function initDice() {
      const container = document.getElementById("dice-container");

      // Create API instance with your key
      const api = new ThreeDDiceAPI({
        apiKey: "gDaxorrfRitBH5xZg9Zusd4d2rfpEfXudILuJxMa3270600d" // replace with your real API key
      });

      // Create the dice instance, attaching the API
      dice = new ThreeDDice(container, {
        api: api,
        theme: "67311ef7-c3dc-11f0-a53a-5e4785df0bb4", // your custom dice theme
        showUI: false
      });

      // Initialize dice
      dice.initialize().then(() => {
        diceReady = true;
        console.log("Custom DDDICE theme loaded and ready!");
      }).catch((err) => {
        console.error("Error initializing dice:", err);
      });
    }

    document.getElementById("rollBtn").addEventListener("click", () => {
      if (!diceReady) {
        console.log("Dice not ready yet, please wait...");
        return;
      }

      // Roll a D20
      dice.roll([
        {
          type: "d20",
          theme: "67311ef7-c3dc-11f0-a53a-5e4785df0bb4"
        }
      ]).then((results) => {
        console.log("D20 roll result:", results[0].value);
        alert("You rolled: " + results[0].value);
      }).catch((err) => {
        console.error("Error rolling dice:", err);
      });
    });

    initDice();

    // Resize container on window resize
    window.addEventListener("resize", () => {
      const container = document.getElementById("dice-container");
      container.style.width = window.innerWidth + "px";
      container.style.height = window.innerHeight + "px";
    });
  </script>
</body>
</html>
